<?xml version="1.0" encoding="UTF-8"?>
<Context path="${contextPath}" allowLinking="false" cookies="true" swallowOutput="true" unpackWAR="true">

    <% if (annotareProperties != null) { %>
    <Environment name="annotareProperties" value="${annotareProperties}"
                 type="java.lang.String" override="false"/>
    <% } %>

    <% if (mageTabCheckProperties != null) { %>
    <Environment name="mageTabCheckProperties" value="${mageTabCheckProperties}"
                 type="java.lang.String" override="false"/>
    <% } %>

    <Resource
            name="jdbc/annotareDataSource" type="javax.sql.DataSource"
            factory="org.apache.tomcat.jdbc.pool.DataSourceFactory"
            maxActive="100" maxIdle="30" maxWait="10000"
            validationQuery="SELECT 1"
            testOnBorrow="true"
            url="${dbUrl}?autoReconnect=true&amp;useUnicode=true&amp;characterEncoding=UTF-8"
            driverClassName="${dbDriver}"
            username="${dbUser}"
            password="${dbPassword}"/>

    <% if (st_dbUrl != null) { %>
    <Resource
            name="jdbc/subsTrackingDataSource"
            type="javax.sql.DataSource"
            maxActive="100" maxIdle="30" maxWait="10000"
            url="${st_dbUrl}?autoReconnect=true&amp;useUnicode=false&amp;characterEncoding=ISO-8859-1"
            driverClassName="${st_dbDriver}"
            username="${st_dbUser}"
            password="${st_dbPassword}"/>
    <% } %>


</Context>